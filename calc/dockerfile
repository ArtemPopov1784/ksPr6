# код для очередного кал кулятора

# Этот Dockerfile начинается с загрузки последней версии образа Ubuntu
FROM ubuntu:latest

# Запустите команду обновления списка пакетов apt, чтобы убедиться, что у вас актуальная версия всех пакетов,
# и установите несколько пакетов ('x11-apps', 'xauth', 'openjdk-11-jre'), 
# которые нужны для работы Java приложения и обеспечения графического пользовательского интерфейса.
# затем удалите ненужные файлы из /var/lib/apt/lists/, чтобы сократить размер конечного образа.
RUN apt-get update && apt-get install -y \
    x11-apps \
    xauth \
    openjdk-11-jre\
    && rm -rf /var/lib/apt/lists/*

# Установите /new-app в качестве рабочей директории. Это каталог, в котором будут выполняться все последующие команды.
WORKDIR /new-app

# Копируйте файл calc.jar из вашего ближайшего контекста (на вашей машине) в недавно созданную рабочую директорию.
COPY calc.jar /new-app/

# Устанавливаем переменную среды DISPLAY для поддержки X11.
ENV DISPLAY =:0

# При запуске созданного Docker-контейнера вы запускаете Java-приложение, указанное в /new-app/calc.jar
CMD ["java", "-jar", "/new-app/calc.jar"]
